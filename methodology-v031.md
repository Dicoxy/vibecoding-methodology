# Методология вайбкодинга v0.3.1

## Tier 1: Лендинг / простой сайт

*Версия 0.3.1 | 12 декабря 2025*
*Обновлено: добавлено правило изменений*

---

## Общая схема

```
ВХОД                          ВЫХОД
────                          ─────
Бриф клиента                  Готовый сайт на сервере
Контент (тексты)       →      Код в GitHub
Референсы                     Компоненты в Библиотеку
Медиа-материалы               Документация
```

---

## Участники процесса

```
┌─────────────────────────────────────────────────────────────────┐
│                         ЧЕЛОВЕК                                 │
│           Решения, согласования, контроль качества              │
└─────────────────────────────┬───────────────────────────────────┘
                              │
              ┌───────────────┴───────────────┐
              ▼                               ▼
┌─────────────────────────┐     ┌─────────────────────────┐
│      CLAUDE CHAT        │     │      CLAUDE CODE        │
│       (Архитектор)      │     │      (Исполнитель)      │
│                         │     │                         │
│  • Планирование         │     │  • Написание кода       │
│  • Создание мокапов     │     │  • Git-коммиты          │
│  • Код-ревью            │     │  • Исправление багов    │
│  • Деплой (через MCP)   │     │                         │
└─────────────────────────┘     └─────────────────────────┘
```

---

## ⚠️ ПРАВИЛО ИЗМЕНЕНИЙ (КРИТИЧНО)

### Принцип по умолчанию
**Улучшаем существующее — НЕ переписываем.**

Любая задача без явного указания = доработка текущего кода.

### Редизайн допустим ТОЛЬКО при:
1. **Явном указании** — "сделай редизайн [секции/компонента]"
2. **Поблочном выполнении** — одна секция → проверка → следующая
3. **Сохранении работающего** — если что-то работало, оно должно продолжать работать

### Интерпретация задач:

| Формулировка | Действие |
|--------------|----------|
| "Сделай красивее" | Улучшай текущий код |
| "Добавь эффект X" | Добавляй В существующий компонент |
| "Переделай секцию" | **СТОП!** Уточни: "полный редизайн или доработка?" |
| "Редизайн About" | Можно переписать About, остальное не трогать |
| "Редизайн сайта" | Поблочно: Hero → проверка → About → проверка → ... |

### Чеклист перед изменением:
- [ ] Есть ли явное указание на редизайн?
- [ ] Если нет — работаю с существующим кодом
- [ ] Если да — делаю поблочно с проверкой после каждого блока
- [ ] После изменения — проверить что старое не сломалось

---

## Фазы проекта

```
Фаза 0: Подготовка ............... Человек ........... 1-2 часа
Фаза 1: Планирование ............. Claude Chat ....... 30-60 мин
Фаза 2: HTML-мокапы .............. Claude Chat ....... 2-4 часа
Фаза 3: Согласование с заказчиком  Человек ........... 1-3 дня
Фаза 4: Код ...................... Claude Code ....... 2-4 часа
Фаза 5: Правки ................... Claude Code ....... 1-2 часа
Фаза 6: Деплой и сдача ........... Claude Chat + MCP . 1 час
                                                       ─────────
                                   Итого работы:       8-15 часов
                                   Календарно:         3-7 дней
```

---

## Фаза 0: Подготовка

**Кто:** Человек  
**Время:** 1-2 часа

### Чеклист материалов

```
[ ] Бриф заполнен
    [ ] Название компании
    [ ] Чем занимается (1-2 предложения)
    [ ] Цель сайта (продажи / презентация / заявки)
    [ ] Целевая аудитория
    [ ] Сроки и бюджет

[ ] Контент получен
    [ ] Тексты (хотя бы черновые)
    [ ] Описание продуктов/услуг
    [ ] Контакты, реквизиты

[ ] Визуальные материалы
    [ ] Логотип (SVG или PNG)
    [ ] Фирменные цвета (или "на ваше усмотрение")
    [ ] Фото (команда, офис, продукт) или "нужны стоковые"

[ ] Референсы
    [ ] 3-5 сайтов которые нравятся клиенту
    [ ] Что именно нравится (стиль, эффекты, структура)
```

### Стоп-критерий

⛔ Нет материалов — не начинаем. Возвращаемся к клиенту.

---

## Фаза 1: Планирование

**Кто:** Claude Chat + Человек  
**Время:** 30-60 мин

### Что делаем

1. Анализируем бриф и референсы
2. Определяем структуру (какие секции)
3. Выбираем визуальный стиль
4. Проверяем что есть в Библиотеке

### Промпт

```
Изучи материалы в .brief/
Предложи:
1. Структуру страницы (секции и порядок)
2. Визуальный стиль (на основе референсов)
3. Что взять из Библиотеки
4. Что создать с нуля
Think hard.
```

### Контрольная точка

✅ Человек утверждает структуру. Без согласования — не продолжаем.

---

## Фаза 2: HTML-мокапы

**Кто:** Claude Chat  
**Время:** 2-4 часа

### Что делаем

Для каждой секции создаём HTML-файл:
- Полная вёрстка (HTML + CSS inline)
- Реальный контент из `.brief/content.md`
- Адаптив (desktop + mobile)
- Базовые анимации

### Порядок создания

```
1. hero-mockup.html
2. about-mockup.html  
3. services-mockup.html (или products)
4. contacts-mockup.html
5. footer-mockup.html
```

### Проверка

Открыть каждый мокап в браузере, убедиться что выглядит хорошо.

---

## Фаза 3: Согласование с заказчиком

**Кто:** Человек + Заказчик  
**Время:** 1-3 дня (зависит от заказчика)

### Что согласовываем

```
[ ] Структура (порядок секций)
[ ] Визуальный стиль (цвета, шрифты)
[ ] Контент (тексты читаются нормально)
[ ] Общее впечатление
```

### Стоп-критерий

⛔ Нет подтверждения — не переходим к коду.

---

## Фаза 4: Код

**Кто:** Claude Code  
**Время:** 2-4 часа

### Промпт для старта (НОВЫЙ ПРОЕКТ)

```
Прочитай CLAUDE.md — это контекст проекта.
Мокапы в .brief/references/
Создай React/Next.js компоненты по мокапам.
Начни с [первый компонент].
После каждого компонента — коммит.
```

### Промпт для доработки (СУЩЕСТВУЮЩИЙ ПРОЕКТ)

```
Прочитай CLAUDE.md.
Задача: [конкретное изменение]
НЕ переписывай существующий код — добавь/измени только то, что указано.
После изменения — проверь что остальное работает.
Коммит.
```

### Проверка после каждой секции

- `npm run dev` работает
- Секция выглядит как мокап
- **Предыдущие секции не сломались**
- Мобильная версия (375px)

---

## Фаза 5: Правки

**Кто:** Claude Code + Человек (контроль)  
**Время:** 1-2 часа

### Правило

Собирать правки в список, делать по одной с проверкой.

**Формат задачи:**
```
Правка 1: [описание]
Правка 2: [описание]
...
Делай по одной. После каждой — проверь что не сломалось. Коммит после каждой.
```

---

## Фаза 6: Деплой и сдача

**Кто:** Claude Chat (через MCP) + Человек  
**Время:** 1 час

### Чеклист деплоя

```
[ ] Docker build успешен
[ ] Сайт доступен по URL
[ ] HTTPS работает
[ ] Мобильная версия ок
[ ] Формы работают (если есть)
[ ] Meta-теги заполнены
[ ] Favicon есть
```

---

## Паттерны эффективности

### 1. Escape-контроль
Держи руку на Escape. Если Claude Code пошёл не туда — останови сразу.

### 2. Скриншоты вместо слов
```
❌ Плохо: "Сделай кнопку красивее"
✅ Хорошо: [Скриншот] + "Сделай как здесь"
```

### 3. Коммиты как чекпоинты
После каждого логического блока — коммит. Если сломалось — откат.

### 4. Новая сессия между фазами
Контекст забивается. Между фазами — `/clear` или новая сессия.

### 5. Batch-задачи с проверкой
```
❌ Плохо: "Сделай 5 правок" (без проверки между ними)
✅ Хорошо: "Сделай правку 1, проверь, коммит. Потом правку 2..."
```

---

## Метрики успеха

| Метрика | Цель | Как измерить |
|---------|------|--------------|
| Себестоимость | < $50 за лендинг | API usage + время |
| Время работы | 8-15 часов | Трекинг |
| Календарно | 3-7 дней | От брифа до сдачи |
| PageSpeed | > 80 | PageSpeed Insights |
| Регрессий | 0 | Сломанных фич после изменений |

---

*Версия 0.3.1 | Декабрь 2025*
